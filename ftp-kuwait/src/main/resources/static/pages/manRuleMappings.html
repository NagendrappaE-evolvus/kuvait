<div class="container ">
	<div class="main-content">
		<h3>{{ruleMap.targetTypeDesc}}</h3>
		<div class="row">
			<div class="jumbotron fileinput fileinput-new">
				<label class="col-md-offset-3" ng-class="{'errortext':status}">{{message}}</label>
				<div class="formcontrol">
					<form class="form-horizontal" name="modalForm" novalidate>
						<div class="form-group form-group-md">
							<label class="col-md-3 control-label" for="modalTarget">
								Target</label>
							<div class="col-md-4">
								<input class="form-control" id="modalTarget" name="modalTarget"
									ng-model="modalData.modalTarget" type="text" required="true" />
							</div>
						</div>
						<div class="table-responsive panel-body">
							<table style="margin-bottom: 0px;" class="table table-bordered">
								<thead>
									<tr>
										<th style="width: 25%">Rule Name</th>
										<th style="width: 70%">Expressions</th>
										<th style="width: 5%">Action</th>
									</tr>
								</thead>
								<tbody>
									<tr
										ng-repeat="ruleMap in modalData.ruleMappings track by $index"
										ng-init="ruleIndex = $index">
										<td style="width: 25%"><input class="form-control"
											ng-model="ruleMap.ruleName" style="margin: 2px;" />
											<p class="wrap-all">
												<strong> {{ruleMap.ruleName}} </strong>
											</p></td>
										<td style="width: 75%">
											<div class="row"
												ng-repeat="expression in ruleMap.expressions track by $index"
												ng-init="expIndex = $index">
												<div class="col-md-3">
													<input class="form-control" ng-model="expression.expName"
														placeholder="Key Name" style="margin: 2px;" />
													<p class="wrap-all">
														<strong> {{expression.expName}} </strong>
													</p>
												</div>
												<div class="col-md-7">
													<chips ng-model="expression.expValues"
														render="renderValue(data)"> <chip-tmpl>
													<div class="default-chip">
														{{chip}} <span class="glyphicon glyphicon-remove"
															remove-chip="deleteChip(data)"></span>
													</div>
													</chip-tmpl> <input chip-control name="expValue"
														placeholder="Enter the Value"></input> </chips>
													<span class="infotext">Type a value and press <span
														class="label label-info">Enter</span>.
													</span>
												</div>
												<div class="col-md-1">
													<button type="button" class="btn btn-small pull-right"
														ng-click="deleteExpression(expIndex,ruleIndex)">
														<span class="glyphicon glyphicon-minus"></span>
													</button>
												</div>
											</div>
											<button type="button" class="btn btn-small  pull-right"
												ng-click="addAnExpression(ruleIndex)" data-toggle="tooltip"
												data-placement="top" title="Add Expression">
												<span class="glyphicon glyphicon-plus"></span>
											</button>
										</td>
										<td style="width: 5%; vertical-align: top; text-align: center">
											<button type="button" class="btn btn-small pull-right"
												ng-click="deleteRuleMap(ruleIndex)">
												<span class="glyphicon glyphicon-trash"></span>
											</button>
										</td>
									</tr>
								</tbody>
							</table>
							<div class="form-group form-group-md" style="margin: 5px 5px">
								<button type="button" id="saveRule" name="saveRule"
									class="btn btn-small btn-orange pull-right"
									ng-click="saveRuleMap()">
									Save Rules</span>
								</button>
								<button type="button" id="addRule" name="addRule"
									class="btn btn-small btn-orange pull-right"
									ng-click="addARuleMap()">
									&nbsp;Add Rule <span class="glyphicon glyphicon-plus pull-left"></span>
								</button>
							</div>
						</div>

					</form>
				</div>
			</div>
		</div>
	</div>
</div>